<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>EANO • Dashboard</title>

  <!-- Fonts / PWA -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;600&display=swap" rel="stylesheet">
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#000000" />

  <!-- Core CSS (put the rest in your style.css) -->
  <link rel="stylesheet" href="style.css?v=6" />

  <style>
    /* ----- layout helpers that aren’t in your main sheet yet ----- */
    :root{
      --gold:#ffd700;
      --bk:rgba(0,0,0,.75);
    }
    body{font-family:"Roboto",sans-serif;background:url("eano-bg.png") center/cover fixed #000;padding:0;margin:0;color:#fff;overflow-x:hidden;}

    /* top-bar */
    .topbar{position:fixed;top:0;left:0;right:0;height:60px;padding:0 .75rem;display:flex;align-items:center;justify-content:space-between;background:var(--bk);z-index:1000}
    .brand{font-size:1.25rem;font-weight:600;color:var(--gold)}
    .top-tools{display:flex;align-items:center;gap:.5rem}

    /* hamburger */
    #menu-toggle{position:fixed;top:14px;left:14px;background:var(--gold);color:#000;font-weight:600;border:none;padding:8px 10px;border-radius:6px;z-index:1001;cursor:pointer}

    /* slide-menu */
    #sidebar-menu{position:fixed;top:0;left:-260px;width:250px;height:100%;background:#1c1c1c;color:#fff;transition:left .3s ease;z-index:1000;padding:70px 18px 18px 18px;overflow-y:auto}
    #sidebar-menu.open{left:0}
    #sidebar-menu ul{list-style:none;margin:0;padding:0}
    #sidebar-menu li{margin:14px 0}
    #sidebar-menu a,#sidebar-menu button{color:var(--gold);text-decoration:none;font-size:.95rem;background:none;border:none;padding:0;width:100%;text-align:left;font-family:inherit}

    /* mine button + dark/light */
    .sidebar-fixed-btns{position:fixed;top:50%;right:8px;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:900}
    #mine-btn{background:linear-gradient(45deg,var(--gold),orange);color:#000;font-weight:600;border:none;padding:12px 18px;border-radius:12px;box-shadow:0 0 10px var(--gold);cursor:pointer}
    #dark-toggle{background:var(--bk);color:#fff;padding:10px 12px;border:none;border-radius:10px;cursor:pointer}

    /* announcement */
    #announcement-box{max-width:500px;margin:90px auto 24px auto;padding:1.2rem;background:var(--bk);border-radius:14px;text-align:center;font-size:.95rem;font-weight:600;border:1px solid var(--gold)}

    /* extra feature placeholders */
    .soon-grid{display:grid;gap:1rem;margin:0 auto 60px auto;padding:0 1rem;max-width:500px}
    .soon-item{background:rgba(255,255,255,.08);border-radius:12px;height:100px;display:flex;align-items:center;justify-content:center;font-size:.9rem;color:#ccc;font-style:italic}

    /* balance line */
    #balance-line{display:flex;align-items:center;gap:.4rem;font-weight:600}

    /* mobile fixes */
    @media(max-width:480px){
      #sidebar-menu{width:220px}
      #announcement-box{width:90%}
    }
  </style>
</head>
<body class="dashboard">

<!-- ---------- TOP-BAR ---------- -->
<div class="topbar">
  <span class="brand">EANO</span>

  <div id="balance-line">
    <span id="balance">0.000</span> EANO |
    <span id="timer">⏳</span>
  </div>

  <div class="top-tools">
    <select id="lang-select">
      <option value="en">🌍 EN</option><option value="fr">🇫🇷 FR</option>
      <option value="sw">🇰🇪 SW</option><option value="ig">🇳🇬 IG</option>
      <option value="ha">🇳🇬 HA</option><option value="efik">🇳🇬 EF</option>
      <option value="pid">🇳🇬 PID</option><option value="zh">🇨🇳 中文</option>
    </select>
  </div>
</div>

<!-- ---------- HAMBURGER ---------- -->
<button id="menu-toggle">☰ Menu</button>

<!-- ---------- SLIDE MENU ---------- -->
<nav id="sidebar-menu">
  <ul>
    <li><a href="dashboard.html">🏡 Home</a></li>
    <li><button disabled>🚀 Mainnet <small>(soon)</small></button></li>
    <li><a href="leaderboard.html">🏆 Leaderboard</a></li>
    <li><a href="invite.html">👥 Team</a></li>
    <li><button disabled>🌐 Community <small>(soon)</small></button></li>
    <li><a href="profile.html">👤 Profile</a></li>
    <li><a href="author.html">👑 Author</a></li>
    <li><a href="whitepaper.pdf" target="_blank">📄 WhitePaper</a></li>
    <li><a href="https://t.me/eanocoin" target="_blank">🛠 Support Portal</a></li>
    <li><button id="logout-btn">🚪 Logout</button></li>
  </ul>
</nav>

<!-- ---------- SIDE FIXED BUTTONS ---------- -->
<div class="sidebar-fixed-btns">
  <button id="mine-btn">⛏ Mine</button>
  <button id="dark-toggle">🌗</button>
</div>

<!-- ---------- MAIN CONTENT ---------- -->
<main>
  <!-- central announcement -->
  <div id="announcement-box">
    📢 EANO Network App and other cool features coming soon!
  </div>

  <!-- placeholders for future features -->
  <section class="soon-grid">
    <div class="soon-item">Game Hub – coming soon</div>
    <div class="soon-item">NFT Marketplace – coming soon</div>
    <div class="soon-item">EANO Swap – coming soon</div>
  </section>
</main>

<!-- ---------- SCRIPTS ---------- -->
<script type="module" src="firebase.js"></script>
<script type="module" src="ui.js"></script>
<script type="module" src="lang.js"></script>

<script>
/* ========== MENU TOGGLE ========== */
const toggleBtn   = document.getElementById("menu-toggle");
const sidebarMenu = document.getElementById("sidebar-menu");
toggleBtn.addEventListener("click", () => {
  sidebarMenu.classList.toggle("open");
});

/* ========== DARK / LIGHT ========== */
const darkBtn = document.getElementById("dark-toggle");
darkBtn.addEventListener("click", () => {
  document.body.classList.toggle("light-mode");
});

/* ========== LOGOUT ========== */
import("./auth.js").then(({ auth })=>{
  document.getElementById("logout-btn")?.addEventListener("click",async()=>{
    const { signOut } = await import("https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js");
    await signOut(auth);
    window.location.href="index.html";
  });
});

/* ========== MINING BUTTON HOOK ========== */
document.getElementById("mine-btn").addEventListener("click", () => {
  alert("⛏ Mining logic lives in dashboard.js – hook me up there!");
});
</script>

<script type="module" src="dashboard.js"></script>

<!-- PWA / SW -->
<script>
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js")
  .catch(e=>console.error("SW failed",e));
}
</script>
</body>
</html>
