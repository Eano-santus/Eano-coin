<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EANO Dashboard • Mine & Grow Trust</title>

  <!-- Favicon & Icons -->
  <link rel="icon" href="favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-icon-180x180.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="assets/icons/android-icon-192x192.png" />

  <!-- SEO Meta -->
  <meta name="description" content="EANO Dashboard – mine EANO, build TrustScore, manage referrals." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://eano-coin.netlify.app/dashboard.html" />
  <meta name="author" content="Santus Santorum" />

  <!-- Open Graph -->
  <meta property="og:title" content="EANO Dashboard" />
  <meta property="og:description" content="Mine daily and build TrustScore with EANO." />
  <meta property="og:image" content="assets/eano-dashboard-banner.png" />
  <meta property="og:url" content="https://eano-coin.netlify.app/dashboard.html" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="EANO Dashboard" />
  <meta name="twitter:description" content="Earn EANO through mining and referrals." />
  <meta name="twitter:image" content="assets/eano-dashboard-banner.png" />

  <!-- PWA Meta -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#000000" />

  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Navigation -->
  <div class="nav-fixed">
    <h1 class="logo">🌟 EANO</h1>
    <span id="balance-display">Balance: 0.000 EANO</span>
    <div class="nav-controls">
      <button id="toggle-theme">🌑/☀️</button>
      <select id="lang-select">
        <option value="en">English</option>
        <option value="fr">Français</option>
        <option value="pid">Pidgin</option>
        <option value="ig">Igbo</option>
        <option value="ha">Hausa</option>
        <option value="sw">Swahili</option>
        <option value="efik">Efik</option>
        <option value="zh">中文</option>
      </select>
    </div>
  </div>

  <!-- Mining Status -->
  <div class="balance-status">
    <h2 id="mining-status">⛏️ Checking mining session...</h2>
  </div>

  <!-- User Stats (to be dynamically filled) -->
  <div id="user-stats" class="fade-in"></div>

  <!-- Mine Button -->
<button id="mine-btn" class="mine-btn">
  <img src="assets/mine-icon.svg" alt="Mine" width="30" />
</button>

  
  <!-- Announcements -->
  <div class="announcement">
    <h2>📢 Announcement</h2>
    <p>⛏️ Tap “Tap to Mine” to start your 24‑hour mining session.</p>
    <p>🎮 Chat, Studio, Marketplace & Tasks coming soon!</p>
  </div>
  

  <!-- Features -->
  <a class="feature-card" href="leaderboard.html"><h3>🏆 Leaderboard</h3><p>Top miners & scores</p></a>
  <a class="feature-card" href="team.html"><h3>👥 Team</h3><p>Your referrals</p></a>
  <a class="feature-card" href="profile.html"><h3>👤 Profile</h3><p>Manage your account</p></a>
  <div class="feature-card coming-soon"><h3>📄 Mainnet-KYC</h3><p>Coming soon</p></div>
  <div class="feature-card coming-soon"><h3>💬 Chat</h3><p>Coming soon</p></div>
  <div class="feature-card coming-soon"><h3>🎤 Studio</h3><p>Coming soon</p></div>
  <div class="feature-card coming-soon"><h3>🛒 Marketplace</h3><p>Coming soon</p></div>
  <div class="feature-card coming-soon"><h3>📋 Tasks</h3><p>Coming soon</p></div>
  <div class="feature-card"><a href="https://t.me/eanocoin" target="_blank"><h3>🆘 Support</h3><p>Join Telegram</p></a></div>
  <div class="feature-card"><h3>🧑‍💼 Author</h3><p>By Santus Santorum</p></div>
  <div class="feature-card text-center"><button class="btn btn-danger" id="logout-btn">Logout</button></div>

  <!-- Footer -->
<div class="footer">© 2025 EANO • Built on Trust, Powered by You</div>

<!-- Scripts -->
<script type="module" src="firebase.js"></script>
<script type="module" src="lang.js"></script>
<script type="module" src="ui.js"></script>
<script type="module" src="dashboard.js"></script>

<!-- ✅ PWA Install Button -->
<button id="installBtn" class="install-btn" style="display: none;">📲 Install App</button>

<!-- ✅ PWA Service Worker & Install Logic -->
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
      .then(() => console.log('✅ SW registered'))
      .catch(err => console.error('❌ SW registration failed', err));
  }

  let deferredPrompt;
  const installBtn = document.getElementById('installBtn');

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installBtn.style.display = 'block';

    installBtn.addEventListener('click', async () => {
      installBtn.style.display = 'none';
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      console.log('✅ User response to install prompt:', outcome);
      deferredPrompt = null;
    });
  });

  window.addEventListener('appinstalled', () => {
    console.log('📲 App installed!');
    installBtn.style.display = 'none';
  });
</script>
