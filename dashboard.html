<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EANO â€¢ Dashboard</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#000000" />  <!-- CSS -->  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>  <style>
    body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(to bottom, #000000, #111111);
      color: #fff;
      scroll-behavior: smooth;
    }

    .nav-top {
      position: sticky;
      top: 0;
      background: #000;
      z-index: 1000;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .nav-top h1 {
      margin: 0;
      font-size: 1.2rem;
      color: gold;
    }

    .section {
      padding: 2rem 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      padding: 1.5rem;
      border-radius: 16px;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
      margin-bottom: 1.5rem;
    }

    .badge-label {
      font-weight: bold;
      color: gold;
    }
  </style></head><body>
  <!-- Top Navigation -->
  <div class="nav-top">
    <h1>EANO Dashboard</h1>
    <select id="lang-select" class="form-select form-select-sm" style="width: auto;">
      <option value="en">ğŸŒ English</option>
      <option value="fr">ğŸ‡«ğŸ‡· French</option>
      <option value="sw">ğŸ‡°ğŸ‡ª Swahili</option>
      <option value="ig">ğŸ‡³ğŸ‡¬ Igbo</option>
      <option value="ha">ğŸ‡³ğŸ‡¬ Hausa</option>
      <option value="efik">ğŸ‡³ğŸ‡¬ Efik</option>
      <option value="pid">ğŸ‡³ğŸ‡¬ Pidgin</option>
      <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
    </select>
  </div>  <!-- Content -->  <div class="container-fluid">
    <div class="section text-center">
      <h2>Balance: <span id="balance">0.000</span> EANO</h2>
      <p class="badge-label">Mining Level: <span id="level"></span></p>
      <p class="badge-label">TrustScore: <span id="trust"></span></p>
    </div><div class="section">
  <div class="feature-card text-center">
    <h4>Mine</h4>
    <p id="mine-status">Click to start mining. 0.600 EANO/hr</p>
    <button id="mine-btn" class="btn btn-warning">Start Mining</button>
    <p id="countdown"></p>
  </div>
</div>

<div class="section">
  <div class="feature-card">
    <h4>ğŸ“¢ Announcement</h4>
    <p>Welcome to EANO! This is your hub for mining, ranking and connecting.</p>
  </div>
</div>

<div class="section">
  <div class="feature-card text-center">
    <h4>ğŸŒŸ Coming Soon</h4>
    <p>Games, Marketplace and Daily Quests arriving soon!</p>
  </div>
</div>

  </div>  <!-- JS Firebase + Mining Logic -->  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, updateDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCzNpblYEjxZvOtuwao3JakP-FaZAT-Upw",
      authDomain: "eano-miner.firebaseapp.com",
      projectId: "eano-miner",
      storageBucket: "eano-miner.appspot.com",
      messagingSenderId: "50186911438",
      appId: "1:50186911438:web:85410fccc7c5933d761a9f"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const balanceEl = document.getElementById("balance");
    const trustEl = document.getElementById("trust");
    const levelEl = document.getElementById("level");
    const mineBtn = document.getElementById("mine-btn");
    const mineStatus = document.getElementById("mine-status");
    const countdownEl = document.getElementById("countdown");

    let mining = false;
    let intervalId;
    const MINE_RATE = 0.6; // per hour

    function getLevel(balance) {
      if (balance >= 10000) return "ğŸ‰ Dragon";
      if (balance >= 5000) return "ğŸ˜ Elephant";
      if (balance >= 2500) return "ğŸ’ Gorilla";
      if (balance >= 1200) return "ğŸ» Bear";
      if (balance >= 600) return "ğŸ¯ Lion";
      if (balance >= 300) return "ğŸ¼ Panda";
      if (balance >= 150) return "ğŸº Wolf";
      if (balance >= 50) return "ğŸ¹ Hamster";
      return "ğŸ¥ Chicken";
    }

    function getTrustBadge(score) {
      if (score >= 5000) return "O.G";
      if (score >= 1000) return "ğŸŸ¢ Trusted Miner";
      if (score >= 500) return "ğŸŸ¡ Reliable Miner";
      if (score >= 300) return "ğŸ”µ New Miner";
      return "ğŸ”´ Low Trust";
    }

    function formatTime(ms) {
      const total = Math.floor(ms / 1000);
      const h = Math.floor(total / 3600);
      const m = Math.floor((total % 3600) / 60);
      const s = total % 60;
      return `${h}h ${m}m ${s}s`;
    }

    onAuthStateChanged(auth, async (user) => {
      if (!user) return (window.location.href = "index.html");
      const uid = user.uid;
      const userRef = doc(db, "users", uid);
      let userSnap = await getDoc(userRef);

      if (!userSnap.exists()) {
        await setDoc(userRef, {
          balance: 0,
          trustScore: 0,
          miningUntil: null
        });
        userSnap = await getDoc(userRef);
      }

      const data = userSnap.data();
      let balance = data.balance || 0;
      let trustScore = data.trustScore || 0;
      let miningUntil = data.miningUntil?.toDate?.() || null;

      balanceEl.textContent = balance.toFixed(3);
      trustEl.textContent = getTrustBadge(trustScore);
      levelEl.textContent = getLevel(balance);

      const now = new Date();
      if (miningUntil && miningUntil > now) {
        startMiningTimer(new Date(miningUntil));
      }

      mineBtn.addEventListener("click", async () => {
        if (miningUntil && miningUntil > new Date()) return;

        const end = new Date(Date.now() + 24 * 60 * 60 * 1000);
        await updateDoc(userRef, { miningUntil: end });
        startMiningTimer(end);
      });

      function startMiningTimer(endTime) {
        mining = true;
        mineStatus.textContent = "Mining in progress...";
        mineBtn.disabled = true;
        clearInterval(intervalId);

        intervalId = setInterval(async () => {
          const now = new Date();
          const timeLeft = endTime - now;

          if (timeLeft <= 0) {
            clearInterval(intervalId);
            mineStatus.textContent = "Mining session ended. Click to restart.";
            mineBtn.disabled = false;
            return;
          }

          countdownEl.textContent = `â³ Time Left: ${formatTime(timeLeft)}`;
          const hourly = MINE_RATE / 3600;
          balance += hourly;
          balanceEl.textContent = balance.toFixed(3);
          levelEl.textContent = getLevel(balance);
          await updateDoc(userRef, { balance });
        }, 1000);
      }
    });
  </script>  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script></body>
</html>
